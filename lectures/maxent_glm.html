<!DOCTYPE html>
<html lang="en"><head>
<script src="maxent_glm_files/libs/clipboard/clipboard.min.js"></script>
<script src="maxent_glm_files/libs/quarto-html/tabby.min.js"></script>
<script src="maxent_glm_files/libs/quarto-html/popper.min.js"></script>
<script src="maxent_glm_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="maxent_glm_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="maxent_glm_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="maxent_glm_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="maxent_glm_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.549">

  <title>maxent_glm</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="maxent_glm_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="maxent_glm_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="maxent_glm_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="style.css">
  <link href="maxent_glm_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="maxent_glm_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="maxent_glm_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="maxent_glm_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2">
<h2></h2>
<center>
<h2>
Bayesian Generalized Linear Models
</h2>
</center>
<!-- add some fitted and predictions intervals next time -->

<img data-src="./images/bayesian_glm/star_wars_glm.jpg" style="width:65.0%" class="r-stretch"></section>
<section id="our-models-until-now" class="title-slide slide level1 center">
<h1>Our Models Until Now</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim Normal(\mu_i, \sigma)\)</span></p>
<p>Data Generating Process<br>
<span class="math inline">\(\mu_i = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
<span class="math inline">\(\alpha \sim Normal(0, 1)\)</span><br>
<span class="math inline">\(\beta_j \sim Normal(0, 1)\)</span><br>
<span class="math inline">\(\sigma \sim cauchy(0,2)\)</span></p>
</section>

<section id="making-the-normal-general" class="title-slide slide level1 center">
<h1>Making the Normal General</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim Normal(\mu_i, \sigma)\)</span></p>
<p>Data Generating Process with identity link<br>
f(<span class="math inline">\(\mu_i) = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
…</p>
</section>

<section id="a-generalized-linear-model" class="title-slide slide level1 center">
<h1>A Generalized Linear Model</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim D(\theta_i, ...)\)</span></p>
<p>Data Generating Process with identity link<br>
f(<span class="math inline">\(\theta_i) = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
…</p>
</section>

<section id="a-generalized-outline" class="title-slide slide level1 center">
<h1>A Generalized Outline</h1>
<ol type="1">
<li><p>Why use GLMs? An Intro to Entropy</p></li>
<li><p>Logistic Regression</p></li>
<li><p>Poisson Regression</p></li>
<li><p>Poisson -&gt; Multinomial</p></li>
</ol>
</section>

<section id="what-is-maximum-entropy" class="title-slide slide level1 center">
<h1>What is Maximum Entropy?</h1>

<img data-src="./images/18/tangled-ball-mess-of-computer-cords-dxpt68.jpg" class="r-stretch"></section>

<section id="maximum-entropy-principle" class="title-slide slide level1 center">
<h1>Maximum Entropy Principle</h1>
<center>
<b>The distribution that can happen the most ways is also the distribution with the biggest information entropy. The distribution with the biggest entropy is the most conservative distribution that obeys its constraints.</b>
</center>
<p>-McElreath 2017</p>
</section>

<section>
<section id="why-are-we-thinking-about-maxent" class="title-slide slide level1 center">
<h1>Why are we thinking about MaxEnt?</h1>
<ul>
<li><p>MaxEnt distributions have the widest spread - conservative</p></li>
<li><p>Nature tends to favor maximum entropy distributions</p>
<ul>
<li>It’s just natural probability</li>
</ul></li>
<li><p>The foundation of Generalized Linear Model Distributions</p></li>
<li><p>Leads to useful distributions once we impose <em>constraints</em></p></li>
</ul>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_1.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_2.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_3.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_4.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_5.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_6.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-7" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_7.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<img data-src="./images/18/maxent_8.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>
<section id="section-9" class="slide level2">
<h2></h2>

<img data-src="maxent_glm_files/figure-revealjs/entropy_show-1.jpeg" width="672" class="r-stretch"></section></section>
<section id="information-entropy" class="title-slide slide level1 center">
<h1>Information Entropy</h1>
<p><span class="math display">\[H(p) = - \sum p_i log \, p_i\]</span></p>
<ul>
<li><p>Measure of uncertainty</p></li>
<li><p>If more events possible, it increases</p></li>
<li><p>Nature finds the distribution with the largest entropy, given constraints of distribution</p></li>
</ul>
</section>

<section id="maximum-entropy-and-coin-flips" class="title-slide slide level1 center">
<h1>Maximum Entropy and Coin Flips</h1>
<ul>
<li><p>Let’s say you are flipping a fair (p=0.5) coin twice</p></li>
<li><p>What is the maximum entropy distribution of # Heads?</p></li>
<li><p>Possible Outcomes: TT, HT, TH, HH</p>
<ul>
<li>which leads to 0, 1, 2 heads</li>
</ul></li>
<li><p>Constraint is, with p=0.5, the average outcome is 1 heads</p></li>
</ul>
</section>

<section id="the-binomial-possibilities" class="title-slide slide level1 center">
<h1>The Binomial Possibilities</h1>
<p>TT = p<sup>2</sup><br>
HT = p(1-p)<br>
TH = (1-p)p<br>
HH = p<sup>2</sup></p>
<center>
But other distributions are possible
</center>
</section>

<section id="lets-compare-other-distributions-meeting-constraint-using-entropy" class="title-slide slide level1 center">
<h1>Let’s compare other distributions meeting constraint using Entropy</h1>
<p>Remember, we must average 1 Heads, so,<br>
sum(distribution * 0,1,1,2) = 1</p>
<p><span class="math display">\[H = - \sum{p_i log p_i}\]</span></p>
<table>
<thead>
<tr class="header">
<th>Distribution</th>
<th>TT, HT, TH, HH</th>
<th>Entropy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Binomial</td>
<td>1/4, 1/4, 1/4, 1/4</td>
<td>1.386</td>
</tr>
<tr class="even">
<td>Candiate 1</td>
<td>2/6, 1/6, 1/6, 2/6</td>
<td>1.33</td>
</tr>
<tr class="odd">
<td>Candiate 2</td>
<td>1/6, 2/6, 2/6, 1/6</td>
<td>1.33</td>
</tr>
<tr class="even">
<td>Candiate 3</td>
<td>1/8, 1/2, 1/8, 2/8</td>
<td>1.213</td>
</tr>
</tbody>
</table>
<center>
Binomial wins!
</center>
</section>

<section id="what-about-other-ps-and-draws" class="title-slide slide level1 center">
<h1>What about other p’s and draws?</h1>
<p>Assume 2 draws, p=0.7, make 1000 simulated distributions</p>

<!--
# What about other p's and draws?
Assume 10 draws, p=0.6, make 1000 simulated distributions

::: {.cell}
::: {.cell-output-display}
![](maxent_glm_files/figure-revealjs/maxent2-1.jpeg){width=672}
:::
:::

-->
<img data-src="maxent_glm_files/figure-revealjs/bin_try-1.jpeg" width="672" class="r-stretch"></section>

<section id="ok-what-about-the-gaussian" class="title-slide slide level1 center">
<h1>OK, what about the Gaussian?</h1>
<div id="left">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="maxent_glm_files/figure-revealjs/norm-1.jpeg" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="right">
<ul>
<li><p>Constraints: mean, finite variance, unbounded</p></li>
<li><p>Lots of possible distributions for normal processes</p></li>
<li><p>Flattest distribution given constraints: MaxEnt</p></li>
</ul>
</div>
</section>

<section id="maximum-entropy-distributions" class="title-slide slide level1 center">
<h1>Maximum Entropy Distributions</h1>
<table>
<thead>
<tr class="header">
<th>Constraints</th>
<th>Maxent distribution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Real value in interval</td>
<td>Uniform</td>
</tr>
<tr class="even">
<td>Real value, finite variance</td>
<td>Gaussian</td>
</tr>
<tr class="odd">
<td>Binary events, fixed probability</td>
<td>Binomial</td>
</tr>
<tr class="even">
<td>Sum of binomials as n -&gt; inf</td>
<td>Binomial</td>
</tr>
<tr class="odd">
<td>Non-negative real, has mean</td>
<td>Exponential</td>
</tr>
</tbody>
</table>
</section>

<section id="how-to-determine-which-non-normal-distribution-is-right-for-you" class="title-slide slide level1 center">
<h1>How to determine which non-normal distribution is right for you</h1>
<ul>
<li><p>Use previous table to determine</p></li>
<li><p>Bounded values: binomial, beta, Dirchlet</p></li>
<li><p>Counts: Poisson, multinomial, geometric</p></li>
<li><p>Distances and durations: Exponential, Gamma (survival or event history)</p></li>
<li><p>Monsters: Ranks and ordered categories</p></li>
<li><p>Mixtures: Beta-binomial, gamma-Poisson, Zero-inflated processes</p></li>
</ul>
</section>

<section id="how-distributions-are-coupled" class="title-slide slide level1 center">
<h1>How Distributions are Coupled</h1>

<img data-src="./images/18/all_dists.jpg" style="width:85.0%" class="r-stretch"></section>

<section id="a-generalized-outline-1" class="title-slide slide level1 center">
<h1>A Generalized Outline</h1>
<ol type="1">
<li><p>Why use GLMs? An Intro to Entropy</p></li>
<li><p><span style="color:red">Logistic Regression</span></p></li>
<li><p>Poisson Regression</p></li>
<li><p>Poisson -&gt; Multinomial</p></li>
</ol>
</section>

<section id="our-models-until-now-1" class="title-slide slide level1 center">
<h1>Our Models Until Now</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim Normal(\mu_i, \sigma)\)</span></p>
<p>Data Generating Process<br>
<span class="math inline">\(\mu_i = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
<span class="math inline">\(\alpha \sim Normal(0, 1)\)</span><br>
<span class="math inline">\(\beta_j \sim Normal(0, 1)\)</span><br>
<span class="math inline">\(\sigma \sim cauchy(0,2)\)</span></p>
</section>

<section id="binomial-logistic-regression" class="title-slide slide level1 center">
<h1>Binomial Logistic Regression</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim B(size, p_i)\)</span></p>
<p>Data Generating Process with identity link<br>
logit(<span class="math inline">\(p_i) = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
…</p>
</section>

<section id="why-binomial-logistic-regression" class="title-slide slide level1 center">
<h1>Why Binomial Logistic Regression</h1>
<ul>
<li><p>Allows us to predict <strong>absolute</strong> probability of something occuring</p></li>
<li><p>Allows us to determing <strong>relative</strong> change in risk due to predictors</p></li>
</ul>
</section>

<section id="why-a-logit-link" class="title-slide slide level1 center">
<h1>Why a Logit Link?</h1>
<img data-src="./images/bayesian_glm/logit_conversion.jpg">
<div style="font-size:11pt">
McElreath 2016
</div>
</section>

<section id="meaning-of-logit-coefficients" class="title-slide slide level1 center">
<h1>Meaning of Logit Coefficients</h1>
<p><span class="math display">\[logit(p_i) = log \frac{p_i}{1-p_i} = \alpha + \beta x_i\]</span></p>
<div>
<ul>
<li class="fragment"><p><span class="math inline">\(\frac{p_i}{1-p_i}\)</span> is <em>odds</em> of something happening</p></li>
<li class="fragment"><p><span class="math inline">\(\beta\)</span> is change in <em>log odds</em> per one unit change in <span class="math inline">\(x_i\)</span></p>
<ul>
<li class="fragment">exp(<span class="math inline">\(\beta\)</span>) is change in odds<br>
</li>
<li class="fragment">Change in <strong>relative risk</strong></li>
</ul></li>
<li class="fragment"><p><span class="math inline">\(p_i\)</span> is <em>absolute probability</em> of something happening</p>
<ul>
<li class="fragment">logistic(<span class="math inline">\(\alpha + \beta x_i\)</span>) = probability</li>
<li class="fragment">To evaluate change in probability, choose two different <span class="math inline">\(x_i\)</span> values</li>
</ul></li>
</ul>
</div>
</section>

<section id="binomial-glm-in-action-gender-discrimination-in-graduate-admissions" class="title-slide slide level1 center">
<h1>Binomial GLM in Action: Gender Discrimination in Graduate Admissions</h1>

<img data-src="./images/bayesian_glm/FINAL_gender_news_dani-01.jpg" class="r-stretch"></section>

<section id="our-data-berkeley-in-1973" class="title-slide slide level1 center">
<h1>Our data: Berkeley in 1973</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">data</span>(UCBadmit)</span>
<span id="cb1-2"><a href=""></a><span class="fu">head</span>(UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  dept applicant.gender admit reject applications
1    A             male   512    313          825
2    A           female    89     19          108
3    B             male   353    207          560
4    B           female    17      8           25
5    C             male   120    205          325
6    C           female   202    391          593</code></pre>
</div>
</div>
</section>

<section id="the-gender-gap" class="title-slide slide level1 center">
<h1>The Gender Gap</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>          Gender
Admit      Male Female
  Admitted 1198    557
  Rejected 1493   1278</code></pre>
</div>

</div>
<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-1-1.jpeg" width="672" class="r-stretch"></section>

<section id="doesnt-look-like-a-gender-gap-if-we-factor-in-department" class="title-slide slide level1 center">
<h1>Doesn’t Look like a Gender Gap if we Factor In Department…</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-2-1.jpeg" width="672" class="r-stretch"></section>

<section id="but-gender---department-applied-to" class="title-slide slide level1 center">
<h1>But Gender -&gt; Department Applied To</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-3-1.jpeg" width="672" class="r-stretch"></section>

<section id="porportion-admitted-by-department" class="title-slide slide level1 center">
<h1>Porportion Admitted by Department…</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-4-1.jpeg" width="672" class="r-stretch"></section>

<section id="what-model-would-you-build" class="title-slide slide level1 center">
<h1>What model would you build?</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  dept applicant.gender admit reject applications
1    A             male   512    313          825
2    A           female    89     19          108
3    B             male   353    207          560
4    B           female    17      8           25
5    C             male   120    205          325
6    C           female   202    391          593</code></pre>
</div>
</div>
</section>

<section id="mediation-model" class="title-slide slide level1 center">
<h1>Mediation Model</h1>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 227.04 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-112 223.04,-112 223.04,4 -4,4"></polygon>
<!-- percent_admit -->
<g id="node1" class="node">
<title>percent_admit</title>
<text text-anchor="middle" x="171" y="-13.8" font-family="Times,serif" font-size="14.00">percent_admit</text>
</g>
<!-- dept -->
<g id="node2" class="node">
<title>dept</title>
<text text-anchor="middle" x="27" y="-13.8" font-family="Times,serif" font-size="14.00">dept</text>
</g>
<!-- dept&#45;&gt;percent_admit -->
<g id="edge2" class="edge">
<title>dept-&gt;percent_admit</title>
<path fill="none" stroke="black" d="M54.09,-18C70.6,-18 92.37,-18 112.64,-18"></path>
<polygon fill="black" stroke="black" points="112.76,-21.5 122.76,-18 112.76,-14.5 112.76,-21.5"></polygon>
</g>
<!-- applicant_gender -->
<g id="node3" class="node">
<title>applicant_gender</title>
<text text-anchor="middle" x="99" y="-85.8" font-family="Times,serif" font-size="14.00">applicant_gender</text>
</g>
<!-- applicant_gender&#45;&gt;percent_admit -->
<g id="edge3" class="edge">
<title>applicant_gender-&gt;percent_admit</title>
<path fill="none" stroke="black" d="M117.17,-71.83C125.72,-63.28 136.06,-52.94 145.38,-43.62"></path>
<polygon fill="black" stroke="black" points="147.99,-45.96 152.59,-36.41 143.04,-41.01 147.99,-45.96"></polygon>
</g>
<!-- applicant_gender&#45;&gt;dept -->
<g id="edge1" class="edge">
<title>applicant_gender-&gt;dept</title>
<path fill="none" stroke="black" d="M80.83,-71.83C72.28,-63.28 61.94,-52.94 52.62,-43.62"></path>
<polygon fill="black" stroke="black" points="54.96,-41.01 45.41,-36.41 50.01,-45.96 54.96,-41.01"></polygon>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Gender influences where you apply to. Department mediates gender to admission relationship.</p>
</section>

<section id="one-model" class="title-slide slide level1 center">
<h1>One Model</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="|7-8|10-11|13-15|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="co">#female = 1, male = 2</span></span>
<span id="cb5-2"><a href=""></a>UCBadmit <span class="ot">&lt;-</span>  UCBadmit <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">as.numeric</span>(applicant.gender),</span>
<span id="cb5-4"><a href=""></a>         <span class="at">dept_id =</span> <span class="fu">as.numeric</span>(dept))</span>
<span id="cb5-5"><a href=""></a></span>
<span id="cb5-6"><a href=""></a>mod_gender <span class="ot">&lt;-</span> <span class="fu">alist</span>(</span>
<span id="cb5-7"><a href=""></a>  <span class="co">#likelihood</span></span>
<span id="cb5-8"><a href=""></a>  admit <span class="sc">~</span> <span class="fu">dbinom</span>(applications, p),</span>
<span id="cb5-9"><a href=""></a>  </span>
<span id="cb5-10"><a href=""></a>  <span class="co">#Data generating process</span></span>
<span id="cb5-11"><a href=""></a>  <span class="fu">logit</span>(p) <span class="ot">&lt;-</span> a[gender] <span class="sc">+</span> delta[dept_id],</span>
<span id="cb5-12"><a href=""></a>  </span>
<span id="cb5-13"><a href=""></a>  <span class="co">#priors</span></span>
<span id="cb5-14"><a href=""></a>  a[gender] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb5-15"><a href=""></a>  delta[dept_id] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb5-16"><a href=""></a>)</span>
<span id="cb5-17"><a href=""></a></span>
<span id="cb5-18"><a href=""></a>fit_gender <span class="ot">&lt;-</span> <span class="fu">quap</span>(mod_gender, UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="what-do-priors-imply-in-a-glms" class="title-slide slide level1 center">
<h1>What do Priors Imply in a GLMS?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="|1-2|4-5|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co">#Let's simulate some priors!</span></span>
<span id="cb6-2"><a href=""></a>prior_sims <span class="ot">&lt;-</span> <span class="fu">extract.prior</span>(fit_gender)</span>
<span id="cb6-3"><a href=""></a></span>
<span id="cb6-4"><a href=""></a><span class="co"># prior sims of gender assuming average no effect of dept - 50:50</span></span>
<span id="cb6-5"><a href=""></a>prior_sims_gender <span class="ot">&lt;-</span> <span class="fu">inv_logit</span>(prior_sims<span class="sc">$</span>a) </span>
<span id="cb6-6"><a href=""></a></span>
<span id="cb6-7"><a href=""></a><span class="fu">hist</span>(prior_sims_gender[,<span class="dv">1</span>], <span class="at">main =</span> <span class="st">"Prior Probability of Admission if Female"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="a-flat-prior-in-logit-space-might-not-be-flat" class="title-slide slide level1 center">
<h1>A Flat Prior in Logit Space Might Not Be Flat!</h1>

<img data-src="maxent_glm_files/figure-revealjs/prior_sim-1.jpeg" width="672" class="r-stretch"></section>

<section id="lets-try-a-few-sds-to-see-what-works" class="title-slide slide level1 center">
<h1>Let’s try a few SDs to see what works!</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>prior_frame <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">sd =</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">5</span>, <span class="fl">0.5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href=""></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">prior_sims =</span> <span class="fu">list</span>(<span class="fu">rnorm</span>(<span class="fl">1e4</span>,<span class="dv">0</span>,sd))) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href=""></a>  <span class="fu">unnest</span>(prior_sims) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">prior_sims =</span> <span class="fu">inv_logit</span>(prior_sims))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="what-is-our-flat-prior" class="title-slide slide level1 center">
<h1>What is our flat prior?</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-7-1.jpeg" width="672" class="r-stretch"></section>

<section id="a-new-model" class="title-slide slide level1 center">
<h1>A New Model</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>mod_gender <span class="ot">&lt;-</span> <span class="fu">alist</span>(</span>
<span id="cb8-2"><a href=""></a>  <span class="co">#likelihood</span></span>
<span id="cb8-3"><a href=""></a>  admit <span class="sc">~</span> <span class="fu">dbinom</span>(applications, p),</span>
<span id="cb8-4"><a href=""></a>  </span>
<span id="cb8-5"><a href=""></a>  <span class="co">#Data generating process</span></span>
<span id="cb8-6"><a href=""></a>  <span class="fu">logit</span>(p) <span class="ot">&lt;-</span> a[gender] <span class="sc">+</span> delta[dept_id],</span>
<span id="cb8-7"><a href=""></a>  </span>
<span id="cb8-8"><a href=""></a>  <span class="co">#priors</span></span>
<span id="cb8-9"><a href=""></a>  a[gender] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="fl">1.5</span>),</span>
<span id="cb8-10"><a href=""></a>  delta[dept_id] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="fl">1.5</span>)</span>
<span id="cb8-11"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="fit-the-model" class="title-slide slide level1 center">
<h1>Fit the Model!</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>fit_gender <span class="ot">&lt;-</span> <span class="fu">quap</span>(mod_gender, UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="results-men-do-slightly-worse" class="title-slide slide level1 center">
<h1>Results… men do slightly worse?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="co">#female = 1, male = 2</span></span>
<span id="cb10-2"><a href=""></a><span class="fu">precis</span>(fit_gender, <span class="at">depth=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               mean        sd       5.5%      94.5%
a[1]     -0.4312203 0.5330873 -1.2831968  0.4207561
a[2]     -0.5279033 0.5322783 -1.3785869  0.3227802
delta[1]  1.1080121 0.5350322  0.2529272  1.9630969
delta[2]  1.0632155 0.5371968  0.2046712  1.9217597
delta[3] -0.1502507 0.5347763 -1.0049265  0.7044252
delta[4] -0.1826522 0.5350901 -1.0378296  0.6725252
delta[5] -0.6246444 0.5378490 -1.4842310  0.2349421
delta[6] -2.1727096 0.5468627 -3.0467019 -1.2987173</code></pre>
</div>
</div>
</section>

<section id="results-men-do-slightly-worse-1" class="title-slide slide level1 center">
<h1>Results… men do slightly worse?</h1>
<p>What it means</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="co">#Women</span></span>
<span id="cb12-2"><a href=""></a><span class="fu">inv_logit</span>(<span class="sc">-</span><span class="fl">0.43</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3941263</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="co">#Men</span></span>
<span id="cb14-2"><a href=""></a><span class="fu">inv_logit</span>(<span class="sc">-</span><span class="fl">0.52</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3728522</code></pre>
</div>
</div>
</section>

<section id="relative-comparison-slight-female-advantage-eh." class="title-slide slide level1 center">
<h1>Relative comparison: Slight Female Advantage? Eh.</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>samp <span class="ot">&lt;-</span> <span class="fu">extract.samples</span>(fit_gender)</span>
<span id="cb16-2"><a href=""></a></span>
<span id="cb16-3"><a href=""></a><span class="fu">precis</span>(samp<span class="sc">$</span>a[,<span class="dv">2</span>] <span class="sc">-</span> samp<span class="sc">$</span>a[,<span class="dv">1</span>], <span class="at">prob=</span><span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>        mean         sd       10%         90%    histogram
 -0.09682634 0.08074047 -0.200614 0.006134635 ▁▁▁▂▅▇▇▅▂▁▁▁</code></pre>
</div>
</div>

<img data-src="maxent_glm_files/figure-revealjs/plot_diff-1.jpeg" width="672" class="r-stretch"></section>

<section id="does-our-data-fall-in-observations" class="title-slide slide level1 center">
<h1>Does our Data Fall in Observations?</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-8-1.jpeg" width="672" class="r-stretch"></section>

<section id="quantile-residuals" class="title-slide slide level1 center">
<h1>Quantile Residuals</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a>qpreds <span class="ot">&lt;-</span> <span class="fu">add_linpred_draws</span>(UCBadmit, fit_gender) <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">.obs =</span> admit<span class="sc">/</span>applications) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href=""></a>  <span class="fu">group_by</span>(dept, applicant.gender) <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href=""></a>  </span>
<span id="cb18-5"><a href=""></a>  <span class="co"># make an empirical dist of each linpred</span></span>
<span id="cb18-6"><a href=""></a>  <span class="co"># then get quantile of result</span></span>
<span id="cb18-7"><a href=""></a>  <span class="fu">summarize</span>(<span class="at">dist =</span> <span class="fu">list</span>(<span class="fu">ecdf</span>(.linpred)),</span>
<span id="cb18-8"><a href=""></a>            <span class="at">.obs =</span> .obs[<span class="dv">1</span>],</span>
<span id="cb18-9"><a href=""></a>            <span class="at">q =</span> purrr<span class="sc">::</span><span class="fu">map_dbl</span>(.obs[<span class="dv">1</span>], dist))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="quantile-residuals-and-fits" class="title-slide slide level1 center">
<h1>Quantile Residuals and Fits</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">ggplot</span>(qpreds,</span>
<span id="cb19-2"><a href=""></a>       <span class="fu">aes</span>(.obs, q)) <span class="sc">+</span></span>
<span id="cb19-3"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="maxent_glm_files/figure-revealjs/res-1.jpeg" width="672" class="r-stretch"></section>

<section id="qq-unif-check" class="title-slide slide level1 center">
<h1>QQ Unif Check</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a>gap<span class="sc">::</span><span class="fu">qqunif</span>(qpreds<span class="sc">$</span>q, <span class="at">logscale=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="maxent_glm_files/figure-revealjs/res_qq-1.jpeg" width="672" class="r-stretch"></section>

<section id="model-vis-with-tidybayes" class="title-slide slide level1 center">
<h1>Model Vis with Tidybayes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="|1|6|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a>preds <span class="ot">&lt;-</span> <span class="fu">add_linpred_draws</span>(UCBadmit, fit_gender)</span>
<span id="cb21-2"><a href=""></a></span>
<span id="cb21-3"><a href=""></a><span class="fu">ggplot</span>(preds, <span class="fu">aes</span>(<span class="at">x =</span> dept, <span class="at">y =</span> .linpred,</span>
<span id="cb21-4"><a href=""></a>                  <span class="at">group =</span> applicant.gender, </span>
<span id="cb21-5"><a href=""></a>                  <span class="at">color =</span> applicant.gender)) <span class="sc">+</span></span>
<span id="cb21-6"><a href=""></a>  <span class="fu">stat_gradientinterval</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="model-vis-with-tidybayes-1" class="title-slide slide level1 center">
<h1>Model Vis with Tidybayes</h1>

<img data-src="maxent_glm_files/figure-revealjs/viz_tb-1.jpeg" width="672" class="r-stretch"></section>

<section id="prediction-intervals-and-binomial-glms" class="title-slide slide level1 center">
<h1>Prediction Intervals and Binomial GLMs</h1>
<ul>
<li><p>Of course, predictions are 1 or 0 for a straight binomial GLM.</p></li>
<li><p>But, more than just coefficient variability is at play</p></li>
<li><p>So, we simulate # of successes out of some # of attempts.</p></li>
<li><p>Can use this to generate prediction intervals</p></li>
</ul>
</section>

<section id="prediction-model-vis-with-tidybayes" class="title-slide slide level1 center">
<h1>Prediction Model Vis with Tidybayes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="|1|7|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>preds_all <span class="ot">&lt;-</span> <span class="fu">add_predicted_draws</span>(UCBadmit, fit_gender) <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">abs_pred =</span> .prediction<span class="sc">/</span>applications)</span>
<span id="cb22-3"><a href=""></a></span>
<span id="cb22-4"><a href=""></a><span class="fu">ggplot</span>(preds_all, <span class="fu">aes</span>(<span class="at">x =</span> dept, <span class="at">y =</span> abs_pred,</span>
<span id="cb22-5"><a href=""></a>                  <span class="at">group =</span> applicant.gender, </span>
<span id="cb22-6"><a href=""></a>                  <span class="at">color =</span> applicant.gender)) <span class="sc">+</span></span>
<span id="cb22-7"><a href=""></a>  <span class="fu">stat_gradientinterval</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="prediction-model-vis-with-tidybayes-1" class="title-slide slide level1 center">
<h1>Prediction Model Vis with Tidybayes</h1>

<img data-src="maxent_glm_files/figure-revealjs/abspred_binom-1.jpeg" width="672" class="r-stretch"></section>

<section id="but-what-about-this" class="title-slide slide level1 center">
<h1>But what about this?</h1>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 227.04 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-112 223.04,-112 223.04,4 -4,4"></polygon>
<!-- percent_admit -->
<g id="node1" class="node">
<title>percent_admit</title>
<text text-anchor="middle" x="171" y="-13.8" font-family="Times,serif" font-size="14.00">percent_admit</text>
</g>
<!-- dept -->
<g id="node2" class="node">
<title>dept</title>
<text text-anchor="middle" x="27" y="-13.8" font-family="Times,serif" font-size="14.00">dept</text>
</g>
<!-- dept&#45;&gt;percent_admit -->
<g id="edge2" class="edge">
<title>dept-&gt;percent_admit</title>
<path fill="none" stroke="black" d="M54.09,-18C70.6,-18 92.37,-18 112.64,-18"></path>
<polygon fill="black" stroke="black" points="112.76,-21.5 122.76,-18 112.76,-14.5 112.76,-21.5"></polygon>
</g>
<!-- applicant_gender -->
<g id="node3" class="node">
<title>applicant_gender</title>
<text text-anchor="middle" x="99" y="-85.8" font-family="Times,serif" font-size="14.00">applicant_gender</text>
</g>
<!-- applicant_gender&#45;&gt;percent_admit -->
<g id="edge3" class="edge">
<title>applicant_gender-&gt;percent_admit</title>
<path fill="none" stroke="black" d="M117.17,-71.83C125.72,-63.28 136.06,-52.94 145.38,-43.62"></path>
<polygon fill="black" stroke="black" points="147.99,-45.96 152.59,-36.41 143.04,-41.01 147.99,-45.96"></polygon>
</g>
<!-- applicant_gender&#45;&gt;dept -->
<g id="edge1" class="edge">
<title>applicant_gender-&gt;dept</title>
<path fill="none" stroke="red" d="M80.83,-71.83C72.28,-63.28 61.94,-52.94 52.62,-43.62"></path>
<polygon fill="red" stroke="red" points="54.96,-41.01 45.41,-36.41 50.01,-45.96 54.96,-41.01"></polygon>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>

<section id="a-generalized-outline-2" class="title-slide slide level1 center">
<h1>A Generalized Outline</h1>
<ol type="1">
<li><p>Why use GLMs? An Intro to Entropy</p></li>
<li><p>Logistic Regression</p></li>
<li><p><span style="color:red">Poisson Regression</span></p></li>
<li><p>Poisson -&gt; Multinomial</p></li>
</ol>
</section>

<section id="disparities-in-who-applied-where" class="title-slide slide level1 center">
<h1>Disparities in Who Applied Where?</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-11-1.jpeg" width="672" class="r-stretch"></section>

<section id="modeling-how-gender-influences-application" class="title-slide slide level1 center">
<h1>Modeling How Gender Influences Application</h1>
<ul>
<li><p>It could be just different departments get different #s.</p></li>
<li><p>It could be gender + department.</p></li>
<li><p>It could be differential application by department.</p></li>
</ul>
</section>

<section id="how-to-determine-which-non-normal-distribution-is-right-for-you-1" class="title-slide slide level1 center">
<h1>How to determine which non-normal distribution is right for you</h1>
<ul>
<li><p>Use previous table to determine</p></li>
<li><p>Bounded values: binomial, beta, Dirchlet</p></li>
<li><p>Counts: Poisson, multinomial, geometric</p></li>
<li><p>Distances and durations: Exponential, Gamma (survival or event history)</p></li>
<li><p>Monsters: Ranks and ordered categories</p></li>
<li><p>Mixtures: Beta-binomial, gamma-Poisson, Zero-inflated processes</p></li>
</ul>
</section>

<section id="poisson-regression" class="title-slide slide level1 center">
<h1>Poisson Regression</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim \mathcal{P}(\lambda)\)</span></p>
<p>Data Generating Process with identity link<br>
log(<span class="math inline">\(\lambda_i) = \alpha + \beta_1 x1_i + \beta_2 x2_i + ...\)</span></p>
<p>Priors:<br>
…</p>
</section>

<section id="consider-the-gender-department-model" class="title-slide slide level1 center">
<h1>Consider the Gender + Department Model</h1>
<p>Likelihood:<br>
<span class="math inline">\(y_i \sim \mathcal{P}(\lambda)\)</span></p>
<p>Data Generating Process with identity link<br>
<span class="math inline">\(log(\lambda_i) = \alpha_{gender} + \beta_{dept}\)</span></p>
<p>Priors:<br>
<span class="math inline">\(\alpha_{gender} \sim \mathcal{N}(0,1)\)</span> <span class="math inline">\(\beta_{dept} \sim \mathcal{N}(0,1)\)</span></p>
</section>

<section id="coded" class="title-slide slide level1 center">
<h1>Coded</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a>mod_apply_add <span class="ot">&lt;-</span> <span class="fu">alist</span>(</span>
<span id="cb23-2"><a href=""></a>  applications <span class="sc">~</span> <span class="fu">dpois</span>(lambda),</span>
<span id="cb23-3"><a href=""></a>  </span>
<span id="cb23-4"><a href=""></a>  <span class="fu">log</span>(lambda) <span class="ot">&lt;-</span> a[gender] <span class="sc">+</span> b[dept_id],</span>
<span id="cb23-5"><a href=""></a>  </span>
<span id="cb23-6"><a href=""></a>  a[gender] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb23-7"><a href=""></a>  b[dept_id] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb23-8"><a href=""></a>)</span>
<span id="cb23-9"><a href=""></a></span>
<span id="cb23-10"><a href=""></a>fit_apply_add <span class="ot">&lt;-</span> <span class="fu">quap</span>(mod_apply_add, <span class="at">data =</span> UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="were-those-reasonable-priors" class="title-slide slide level1 center">
<h1>Were those reasonable priors?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="co">#Let's simulate some priors!</span></span>
<span id="cb24-2"><a href=""></a>prior_sims_apply <span class="ot">&lt;-</span> <span class="fu">extract.prior</span>(fit_apply_add)</span>
<span id="cb24-3"><a href=""></a></span>
<span id="cb24-4"><a href=""></a><span class="co"># What would 1 dept look like for one gender?</span></span>
<span id="cb24-5"><a href=""></a>ps <span class="ot">&lt;-</span> <span class="fu">exp</span>(prior_sims_apply<span class="sc">$</span>a[,<span class="dv">1</span>] <span class="sc">+</span> prior_sims_apply<span class="sc">$</span>b[,<span class="dv">1</span>]) </span>
<span id="cb24-6"><a href=""></a> </span>
<span id="cb24-7"><a href=""></a><span class="fu">hist</span>(ps, <span class="at">main =</span> <span class="st">"Distribiution of Applications"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="maxent_glm_files/figure-revealjs/prior_sim_pois-1.jpeg" width="672" class="r-stretch"></section>

<section id="and-for-real" class="title-slide slide level1 center">
<h1>And for real</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-12-1.jpeg" width="672" class="r-stretch"><ul>
<li>Up the SD!</li>
</ul>
</section>

<section id="priors-at-different-sds" class="title-slide slide level1 center">
<h1>Priors at Different SDs</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-13-1.jpeg" width="672" class="r-stretch"></section>

<section id="better-regularizing-priors" class="title-slide slide level1 center">
<h1>Better Regularizing Priors</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a>mod_apply_add <span class="ot">&lt;-</span> <span class="fu">alist</span>(</span>
<span id="cb25-2"><a href=""></a>  applications <span class="sc">~</span> <span class="fu">dpois</span>(lambda),</span>
<span id="cb25-3"><a href=""></a>  </span>
<span id="cb25-4"><a href=""></a>  <span class="fu">log</span>(lambda) <span class="ot">&lt;-</span> a[gender] <span class="sc">+</span> b[dept_id],</span>
<span id="cb25-5"><a href=""></a>  </span>
<span id="cb25-6"><a href=""></a>  a[gender] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">2</span>),</span>
<span id="cb25-7"><a href=""></a>  b[dept_id] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">2</span>)</span>
<span id="cb25-8"><a href=""></a>)</span>
<span id="cb25-9"><a href=""></a></span>
<span id="cb25-10"><a href=""></a>fit_apply_add <span class="ot">&lt;-</span> <span class="fu">quap</span>(mod_apply_add, <span class="at">data =</span> UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="was-this-any-good" class="title-slide slide level1 center">
<h1>Was this Any Good?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">postcheck</span>(fit_apply_add)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-14-1.jpeg" width="672" class="r-stretch"></section>

<section id="what-about-gender-department" class="title-slide slide level1 center">
<h1>What About Gender * Department</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a>UCBadmit <span class="ot">&lt;-</span> UCBadmit <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">gen_dept =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(<span class="fu">paste</span>(gender, dept_id))))</span>
<span id="cb27-3"><a href=""></a></span>
<span id="cb27-4"><a href=""></a>mod_apply <span class="ot">&lt;-</span> <span class="fu">alist</span>(</span>
<span id="cb27-5"><a href=""></a>  applications <span class="sc">~</span> <span class="fu">dpois</span>(lambda),</span>
<span id="cb27-6"><a href=""></a>  </span>
<span id="cb27-7"><a href=""></a>  <span class="fu">log</span>(lambda) <span class="ot">&lt;-</span> a[gen_dept],</span>
<span id="cb27-8"><a href=""></a>  </span>
<span id="cb27-9"><a href=""></a>  a[gen_dept] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>,<span class="dv">2</span>)</span>
<span id="cb27-10"><a href=""></a>)</span>
<span id="cb27-11"><a href=""></a></span>
<span id="cb27-12"><a href=""></a>fit_apply <span class="ot">&lt;-</span> <span class="fu">quap</span>(mod_apply, UCBadmit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="postcheck" class="title-slide slide level1 center">
<h1>Postcheck</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-16-1.jpeg" width="672" class="r-stretch"></section>

<section id="but-more-parameters-so-compare" class="title-slide slide level1 center">
<h1>But, More Parameters, so Compare</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                   WAIC        SE    dWAIC     dSE      pWAIC weight
fit_apply      110.2433   3.18072    0.000      NA   5.917586      1
fit_apply_add 2221.8544 492.01731 2111.611 515.916 603.643871      0</code></pre>
</div>
</div>
</section>

<section>
<section id="what-does-it-mean" class="title-slide slide level1 center">
<h1>What does it Mean?</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-18-1.jpeg" width="672" class="r-stretch"></section>
<section id="code" class="slide level2">
<h2>Code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a><span class="fu">linpred_draws</span>(fit_apply, UCBadmit) <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href=""></a>  <span class="fu">ggplot</span>(</span>
<span id="cb29-3"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> dept, <span class="at">y =</span> .value,</span>
<span id="cb29-4"><a href=""></a>           <span class="at">group =</span> applicant.gender, </span>
<span id="cb29-5"><a href=""></a>           <span class="at">color =</span> applicant.gender)) <span class="sc">+</span></span>
<span id="cb29-6"><a href=""></a>  <span class="fu">stat_gradientinterval</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section id="its-an-indirect-effect-of-gender" class="title-slide slide level1 center">
<h1>It’s an Indirect Effect of Gender</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-20-1.jpeg" width="672" class="r-stretch"></section>

<section id="a-generalized-outline-3" class="title-slide slide level1 center">
<h1>A Generalized Outline</h1>
<ol type="1">
<li><p>Why use GLMs? An Intro to Entropy</p></li>
<li><p>Logistic Regression</p></li>
<li><p>Poisson Regression</p></li>
<li><p>[Poisson = Multinomial]]{style=“color:red”}</p></li>
</ol>
</section>

<section id="lingering-questions" class="title-slide slide level1 center">
<h1>Lingering Questions</h1>
<ol type="1">
<li><p>Well, maybe admission bias differs by departments?</p></li>
<li><p>Can we turn our application results into probabilities to calculate direct, indirect, and total effects?</p></li>
</ol>
</section>

<section id="does-bias-differ-by-department" class="title-slide slide level1 center">
<h1>Does Bias Differ by Department?</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                 WAIC        SE    dWAIC      dSE    pWAIC       weight
fit_gen_int  90.21511  3.396592  0.00000       NA 6.457929 0.9998486738
fit_gender  107.80696 15.647798 17.59184 16.52952 9.044645 0.0001513262</code></pre>
</div>
</div>
</section>

<section id="department-a-is-biased-towards-women---although-fewer-apply" class="title-slide slide level1 center">
<h1>Department A is Biased Towards Women - Although Fewer Apply</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-22-1.jpeg" width="672" class="r-stretch"></section>

<section id="q2-how-to-turn-poisson-model-into-probabilities" class="title-slide slide level1 center">
<h1>Q2: How to Turn Poisson Model into Probabilities</h1>
<ul>
<li><p>Normally we’d use a multinomial to get probabilities of multiple classes. <span class="math display">\[X \sim Mult(n, \pi)\]</span></p></li>
<li><p>BUT - a poisson with categories can turn into a multinomial!</p></li>
</ul>
</section>

<section id="poisson-to-multinomial" class="title-slide slide level1 center">
<h1>Poisson to Multinomial</h1>
<p><span class="math display">\[X \sim Mult(n, \pi)\]</span></p>
<div class="fragment">
<p>If <span class="math display">\[X_1 \sim P(\lambda_1)\]</span> <span class="math display">\[X_2 \sim P(\lambda_2)\]</span> … <span class="math display">\[X_k \sim P(\lambda_k)\]</span></p>
</div>
<div class="fragment">
<p>then n = <span class="math inline">\(X_1 + X_2 +....X_k\)</span> where <span class="math inline">\(\pi=(\pi_1,\ldots,\pi_k)\)</span></p>
</div>
<div class="fragment">
<p>So: <span class="math display">\[\pi_j=\dfrac{\lambda_j}{\lambda_1+\cdots+\lambda_k}\]</span></p>
</div>
</section>

<section id="using-our-model-for-estimating-pi" class="title-slide slide level1 center">
<h1>Using our Model for Estimating Pi</h1>
<ul>
<li>We Can Use our Predictions as Lambda</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="|2-3|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>probs <span class="ot">&lt;-</span> <span class="fu">linpred_draws</span>(fit_apply, UCBadmit) <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href=""></a>  <span class="fu">group_by</span>(.draw, applicant.gender) <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> .value <span class="sc">/</span> <span class="fu">sum</span>(.value)) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href=""></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="big-disparities-in-where-different-genders-apply" class="title-slide slide level1 center">
<h1>Big Disparities in Where Different Genders Apply</h1>

<img data-src="maxent_glm_files/figure-revealjs/unnamed-chunk-24-1.jpeg" width="672" class="r-stretch"></section>

<section id="calculating-the-probabilities-of-getting-into-dept-a-as-a-woman" class="title-slide slide level1 center">
<h1>Calculating the Probabilities of Getting Into Dept A as a Woman</h1>
<p>Direct Probability of Admission if a Woman:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8152725</code></pre>
</div>
</div>
<p>Probability of Applying to A if a Woman:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05875285</code></pre>
</div>
</div>
<p>0.06 * 0.81 = 0.0486</p>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="maxent_glm_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="maxent_glm_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="maxent_glm_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="maxent_glm_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>